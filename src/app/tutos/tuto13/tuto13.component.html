<div class="container my-5">
    <div class="row">
        <div class="col">
            <h1 class="mb-4 text-primary">
                <i class="bi bi-waves"></i> Tutoriel 13 : Utilisation des Bruits
                de Perlin en p5.js
            </h1>

            <h2 class="mt-5 text-success">1. Introduction</h2>
            <p>
                Créer des textures et des motifs organiques en utilisant le
                bruit de Perlin.
            </p>

            <h2 class="mt-5 text-success">
                2. Configuration de l'environnement
            </h2>
            <ol>
                <li>
                    Utilisez le même fichier HTML que dans les tutoriels
                    précédents pour configurer l'environnement :
                </li>
                <div class="code-container">
                    <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;p5.js Tutorial&lt;/title&gt;
  &lt;!-- Inclusion de la bibliothèque p5.js --&gt;
  &lt;script src="p5.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;!-- Inclusion du fichier JavaScript contenant notre code p5.js --&gt;
  &lt;script src="sketch.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                </div>
                <p>Explication :</p>
                <ul>
                    <li>
                        Ce code crée une structure de base pour une page web
                        avec un fichier HTML.
                    </li>
                    <li>
                        La balise
                        <code
                            >&lt;script src="p5.min.js"&gt;&lt;/script&gt;</code
                        >
                        inclut la bibliothèque p5.js dans notre projet.
                    </li>
                    <li>
                        Le fichier <code>sketch.js</code> contiendra notre code
                        p5.js.
                    </li>
                </ul>
            </ol>

            <h2 class="mt-5 text-success">
                3. Mise en place du canvas et des paramètres
            </h2>

            <div class="card mb-4">
                <div class="card-header">
                    <h3 class="card-title">
                        a) Initialisation de la taille du canvas
                    </h3>
                </div>
                <div class="card-body">
                    <h4>Exemple :</h4>
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <div class="code-container">
                                <pre><code class="language-javascript">function setup() &#123;
  createCanvas(400, 400); // Crée un canvas de 400x400 pixels
  background(220); // Remplit le fond avec une couleur gris clair
&#125;</code></pre>
                                <button
                                    class="btn btn-primary mt-2"
                                    (click)="
                                        runSketch(sketch1Container, sketch1)
                                    "
                                >
                                    <i class="bi bi-play-fill"></i> Run
                                </button>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div
                                class="sketch-container"
                                #sketch1Container
                                id="sketch1"
                            ></div>
                        </div>
                    </div>
                    <p>Explication :</p>
                    <ul>
                        <li>
                            <code>createCanvas(400, 400)</code> : Crée un canvas
                            de 400x400 pixels.
                        </li>
                        <li>
                            <code>background(220)</code> : Remplit le fond du
                            canvas avec une couleur gris clair.
                        </li>
                    </ul>
                </div>
            </div>

            <h2 class="mt-5 text-success">
                4. Qu'est-ce que le Bruit de Perlin ?
            </h2>
            <p>
                Le bruit de Perlin est une technique inventée par Ken Perlin,
                utilisée pour générer des textures naturelles et organiques.
                Contrairement au bruit aléatoire pur (ou bruit blanc), le bruit
                de Perlin est lissé, ce qui signifie que les valeurs générées
                changent progressivement, créant ainsi des transitions douces.
                Cela le rend particulièrement utile pour des applications comme
                les textures de terrain, les nuages, l'eau, et bien d'autres
                phénomènes naturels.
            </p>

            <h2 class="mt-5 text-success">5. Utilisation du bruit de Perlin</h2>
            <p>
                Nous allons explorer plusieurs exemples pour utiliser le bruit
                de Perlin et créer des motifs organiques.
            </p>

            <div class="card mb-4">
                <div class="card-header">
                    <h3 class="card-title">
                        Exemple 1 : Texture de Bruit de Perlin
                    </h3>
                </div>
                <div class="card-body">
                    <h4>Exemple :</h4>
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <div class="code-container">
                                <pre><code class="language-javascript">function setup() &#123;
  createCanvas(400, 400);
  background(220);
  loadPixels(); // Charge les pixels du canvas
  for (let x = 0; x < width; x++) &#123;
    for (let y = 0; y < height; y++) &#123;
      let bright = noise(x * 0.01, y * 0.01) * 255;
      set(x, y, color(bright));
    &#125;
  &#125;
  updatePixels(); // Applique les modifications au canvas
&#125;</code></pre>
                                <button
                                    class="btn btn-primary mt-2"
                                    (click)="
                                        runSketch(sketch2Container, sketch2)
                                    "
                                >
                                    <i class="bi bi-play-fill"></i> Run
                                </button>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div
                                class="sketch-container"
                                #sketch2Container
                                id="sketch2"
                            ></div>
                        </div>
                    </div>
                    <p>Explication :</p>
                    <ul>
                        <li>
                            <code>loadPixels()</code> : Charge les pixels du
                            canvas dans un tableau accessible via la propriété
                            <code>pixels</code>.
                        </li>
                        <li>
                            <code>noise(x * 0.01, y * 0.01)</code> : Génère une
                            valeur de bruit de Perlin entre 0 et 1 pour les
                            coordonnées <code>(x, y)</code>. Le facteur 0.01
                            permet de lisser les valeurs de bruit pour créer une
                            transition douce.
                        </li>
                        <li>
                            <code>set(x, y, color(bright))</code> : Définit la
                            couleur du pixel à la position
                            <code>(x, y)</code> en fonction de la valeur de
                            bruit.
                        </li>
                        <li>
                            <code>updatePixels()</code> : Applique les
                            modifications au canvas.
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">
                    <h3 class="card-title">
                        Exemple 2 : Paysage de Bruit de Perlin
                    </h3>
                </div>
                <div class="card-body">
                    <h4>Exemple :</h4>
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <div class="code-container">
                                <pre><code class="language-javascript">function setup() &#123;
  createCanvas(400, 400);
  background(220);
  noLoop(); // Empêche draw() de boucler en continu
&#125;

function draw() &#123;
  let yoff = 0;
  for (let y = 0; y < height; y++) &#123;
    let xoff = 0;
    for (let x = 0; x < width; x++) &#123;
      let bright = noise(xoff, yoff) * 255;
      stroke(bright);
      point(x, y);
      xoff += 0.01;
    &#125;
    yoff += 0.01;
  &#125;
&#125;</code></pre>
                                <button
                                    class="btn btn-primary mt-2"
                                    (click)="
                                        runSketch(sketch3Container, sketch3)
                                    "
                                >
                                    <i class="bi bi-play-fill"></i> Run
                                </button>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div
                                class="sketch-container"
                                #sketch3Container
                                id="sketch3"
                            ></div>
                        </div>
                    </div>
                    <p>Explication :</p>
                    <ul>
                        <li>
                            <code>noLoop()</code> : Empêche la fonction
                            <code>draw()</code> de boucler en continu, ce qui
                            est utile pour les dessins statiques.
                        </li>
                        <li>
                            <code>noise(xoff, yoff)</code> : Génère une valeur
                            de bruit de Perlin pour les coordonnées
                            <code>xoff</code> et <code>yoff</code>.
                        </li>
                        <li>
                            <code>xoff += 0.01</code> et
                            <code>yoff += 0.01</code> : Incrémente les décalages
                            pour générer un motif de bruit lissé.
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">
                    <h3 class="card-title">
                        Exemple 3 : Animation de Bruit de Perlin
                    </h3>
                </div>
                <div class="card-body">
                    <h4>Exemple :</h4>
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <div class="code-container">
                                <pre><code class="language-javascript">let xoff = 0;
let yoff = 0;

function setup() &#123;
  createCanvas(400, 400);
  background(220);
&#125;

function draw() &#123;
  background(220, 50); // Ajoute un effet de traînée
  let x = noise(xoff) * width;
  let y = noise(yoff) * height;
  ellipse(x, y, 24, 24);
  xoff += 0.01;
  yoff += 0.01;
&#125;</code></pre>
                                <button
                                    class="btn btn-primary mt-2"
                                    (click)="
                                        runSketch(sketch4Container, sketch4)
                                    "
                                >
                                    <i class="bi bi-play-fill"></i> Run
                                </button>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div
                                class="sketch-container"
                                #sketch4Container
                                id="sketch4"
                            ></div>
                        </div>
                    </div>
                    <p>Explication :</p>
                    <ul>
                        <li>
                            <code>noise(xoff)</code> : Génère une valeur de
                            bruit de Perlin pour animer la position
                            <code>x</code> du cercle.
                        </li>
                        <li>
                            <code>noise(yoff)</code> : Génère une valeur de
                            bruit de Perlin pour animer la position
                            <code>y</code> du cercle.
                        </li>
                        <li>
                            <code>background(220, 50)</code> : Ajoute un effet
                            de traînée en dessinant un arrière-plan
                            semi-transparent.
                        </li>
                    </ul>
                </div>
            </div>

            <h2 class="mt-5 text-success">6. Conclusion</h2>
            <p>
                Vous avez maintenant appris à utiliser le bruit de Perlin en
                p5.js pour créer des textures, des paysages et des animations
                douces. Expérimentez avec ces concepts pour créer des œuvres
                d'art encore plus variées et complexes.
            </p>

            <div class="d-flex justify-content-between mt-4">
                <a class="btn btn-secondary" [routerLink]="['/tutos']">
                    <i class="bi bi-arrow-left"></i> Retour
                </a>
            </div>
        </div>
    </div>
</div>
